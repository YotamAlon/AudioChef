<ExtBox@BoxLayout>:
    orientation: 'vertical'
    size_hint_y: None
    height: 30
    BoxLayout:
        orientation: 'horizontal'
        OptionsBox:
            id: ext_box
            name: "Choose the output format (empty means the same as the input if supported)"
            options: [""] + [format_.ext.lower() for format_ in app.supported_audio_formats if format_.can_encode]
            on_text: app.state.set_prop('output_ext', self.text); app.dispatcher.dispatch('on_output_format_update')
        SelectableButton:
            selected: True
            text: 'Lock'
            on_release:
                self.selected = not self.selected
                root.locked = not self.selected
                self.text = 'Lock' if self.selected else 'Unlock'
