<NameBox@BoxLayout>:
    orientation: 'vertical'
    size_hint_y: None
    height: 85
    BoxLayout:
        orientation: 'horizontal'
        OutputChanger:
            id: name_changer
            size_hint_y: None
            height: 85
        SelectableButton:
            size_hint_y: None
            height: 30
            pos_hint: {'top': 1}
            selected: True
            text: 'Lock'
            on_release:
                self.selected = not self.selected
                root.locked = not self.selected
                self.text = 'Lock' if self.selected else 'Unlock'


<OutputChanger>:
    orientation: 'vertical'
    BoxLayout:
        size_hint_y: None
        height: 30
        orientation: 'horizontal'
        Label:
            text: 'Choose file name change type:'
        Label:
            text: 'Replace text'
        CheckBox:
            size_hint_x: None
            width: 40
            active: root.mode == 'replace'
            group: 'name_changer'
            on_active: root.mode = 'replace'
        Label:
            text: 'Wildcards'
        CheckBox:
            size_hint_x: None
            width: 40
            active: root.mode == 'wildcards'
            group: 'name_changer'
            on_active: root.mode = 'wildcards'
    RelativeLayout:
        size_hint_y: None
        height: 55
        GridLayout:
            cols: 2
            Label:
                height: 25
                size_hint_y: None
                text: 'Replace this:'
            Label:
                height: 25
                size_hint_y: None
                text: 'With this:'
            TextInput:
                id: replace_from_input
                height: 30
                size_hint_y: None
                on_text: app.dispatch('on_name_changer_update')
            TextInput:
                id: replace_to_input
                height: 30
                size_hint_y: None
                text: ''
                on_text: app.dispatch('on_name_changer_update')
        BoxLayout:
            orientation: 'vertical'
            Label:
                id: wildcards_label
                height: 25
                size_hint_y: None
                text: 'Output Format:'
            TextInput:
                id: wildcards_input
                height: 30
                size_hint_y: None
                on_text: app.dispatch('on_name_changer_update')